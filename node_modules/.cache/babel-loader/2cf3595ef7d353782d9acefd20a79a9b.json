{"ast":null,"code":"var load = function load(src) {\n  return new Promise(function (resolve, reject) {\n    var img = new window.Image();\n    img.addEventListener(\"load\", function () {\n      return resolve(img);\n    }, false);\n    img.addEventListener(\"error\", reject, false);\n    img.src = src;\n  });\n};\n/*\n * Resize the image based on the given height or width boundary.\n * Auto resize based on aspect ratio.\n **/\n\n\nvar resize = function resize(targetWidth, targetHeight) {\n  return function (width, height) {\n    if (!targetWidth && !targetHeight) return {\n      width: width,\n      height: height\n    };\n    var originalAspectRatio = width / height;\n    var targetAspectRatio = targetWidth / targetHeight;\n    var outputWidth, outputHeight;\n\n    if (originalAspectRatio > targetAspectRatio) {\n      outputWidth = Math.min(width, targetWidth);\n      outputHeight = outputWidth / originalAspectRatio;\n    } else {\n      outputHeight = Math.min(height, targetHeight);\n      outputWidth = outputHeight * originalAspectRatio;\n    }\n\n    return {\n      width: outputWidth,\n      height: outputHeight\n    };\n  };\n};\n\nexport default {\n  load: load,\n  resize: resize\n};","map":null,"metadata":{},"sourceType":"module"}